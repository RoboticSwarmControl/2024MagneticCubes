\chapter{Conclusion}
\label{chap:conclusion}

In this thesis we developed a heuristic approach for the motion planning problem of assembling polyominoes with magnetic modular cubes \cite{Bhattacharjee2022} in the 2-dimensional special Euclidean group $\textit{SE}(2)$.

Although our simulator is not a physically accurate representation of magnetic modular cubes, since we are simulating 3D-movement in a 2D-environment, it is able to depict continuous movement of rotations and pivot walking and also simulates magnetic attraction and repulsion of embedded permanent magnets.
While doing so, collision between cubes and collision with workspace boundaries is detected and resolved.

These attributes of the simulator allow our closed-loop local planning algorithm to dynamically adjust for events like structures blocking each other, structures sliding along the workspace boundaries and varying movement directions due to different pivot walking displacement vectors of polyomino shapes.
By not limiting rotations to certain degrees, structures can always be aligned and theoretically connect by pivot walking a straight path.
Above mentioned events prevent this straight and optimal movement, but dynamic realigning provides a good heuristic for minimizing movement while being efficient on planning time.

We constrained the workspace to be rectangular with no obstacles except the outer boundaries and experimented with different sizes and aspect ratios of the rectangle.
Our local planner is not designed to handle obstacles.
Designing a local planner able to navigate around obstacles and handle pivot walking displacement and sliding on walls in a more calculated way could be a interesting direction for future work.

The simulator is balanced between physical accuracy and efficiency, but it remains a high fidelity physics simulation.
Simulating movement is costly and local plans require planning times in a range of seconds.
On a global scale of doing multiple local plans to assemble desired target structures, simulation should be avoided as much as possible.
Using classical motion planning approaches that broadly explore the configuration-space like RRT, are not feasible under this condition.

Our global planner uses the ability of two-cutting polyominoes to create a two-cut-sub-assembly graph that will be used as a building instruction for target polyominoes.
The configuration-space is explored by depth-first-search traversing this graph, to get closer to the target with each local plan.
The graph leaves multiple options for traversing one edge, because it does not consider workspace position of polyominoes. 
We evaluated three strategies of sorting these options by best probable outcome.

The global planner can identify if the assembly of a target is possible out of any sub-assemblies present in the workspace at any point in time, but requires equal amounts of cubes in the workspace and in the target polyomino.
How to work with more cubes than necessary for the assembly, when two-cut-sub-assembly graphs are used, remains an open question for future work with some insights on the problem given in \autoref{sec:more_cubes}.

We evaluated the assembly of polyominoes with up to 12 cubes in varying shapes and patterns of cube types.
Planning time and timeout failures increase exponentially with the number of cubes, as it is expected with increasing dimensionality of the configuration-space.
We are able to solve the majority of instances in well under $200$ seconds, but certain attributes of polyominoes heavily decrease efficiency of the global planner.
We found out that many connections within a polyomino combined with increasing polyomino width produces especially bad results.

The option sorting strategies seem to perform differently for varying shapes, but we were not able to identify a clear pattern.
Studying attributes of polyominoes and their effect on performance is another possible direction for future work.
Designing new specialized option sorting strategies and determining which on to use, based on the target polyomino, looks promising. 

Using our global planner to calculate motion sequences and applying them to a real workspace of magnetic modular cubes will most likely not result in a successful target assembly, because the mismatch between simulation and the real world is too big.
Instead, the simulator could be replaced by a computer vision-based feedback and control system of the workspace, like the one currently developed by Lu et al.\ \cite{Lu2023}.
Resetting configurations to previous states is not possible in the real world.
Although we are resetting configurations in our global planner, we are already trying to avoid unnecessary simulation as much as possible.
Further optimizing the two-cut-sub-assembly graph traversal to make even more careful decisions could be promising for a real world applications of magnetic modular cubes and actual hardware experiments would be interesting to see.







